<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Keras based LM framework for neuro-symbolic applications">
      
      
      
        <link rel="canonical" href="https://synalinks.github.io/synalinks/Code%20Examples/SQL%20Agent/">
      
      
        <link rel="prev" href="../MCP%20Agent/">
      
      
        <link rel="next" href="../../Synalinks%20API/Modules%20API/">
      
      
        
      
      
      <link rel="icon" href="../../assets/synalinks_favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>SQL Agent - Synalinks OSS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#examples.16_sql_agent" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Synalinks OSS" class="md-header__button md-logo" aria-label="Synalinks OSS" data-md-component="logo">
      
  <img src="../../assets/synalinks_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Synalinks OSS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SQL Agent
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-hidden="true" type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/SynaLinks/synalinks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
  </div>
  <div class="md-source__repository">
    SynaLinks/synalinks
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Synalinks OSS" class="md-nav__button md-logo" aria-label="Synalinks OSS" data-md-component="logo">
      
  <img src="../../assets/synalinks_logo.png" alt="logo">

    </a>
    Synalinks OSS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SynaLinks/synalinks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
  </div>
  <div class="md-source__repository">
    SynaLinks/synalinks
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Getting%20Started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Data%20Models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Programs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Programs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Knowledge%20Base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Training/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Training
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Observability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Observability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Input%20Guard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Input Guard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/Output%20Guard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Output Guard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../First%20Steps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    First Steps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Functional%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Functional API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Subclassing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Subclassing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sequential%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sequential API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Mixing%20Strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mixing Strategy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Parallel%20Branches/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parallel Branches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Decisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Decisions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Conditional%20Branches/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conditional Branches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Data%20Model%20Operators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Model Operators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../JSON%20Ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JSON Ops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Conversational%20Applications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conversational Applications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Reward%20Metrics%20And%20Optimizers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reward Metrics And Optimizers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Training%20Programs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Training Programs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Implementing%20Custom%20Modules%20Via%20Subclassing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Implementing Custom Modules Via Subclassing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Autonomous%20Agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Autonomous Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Interactive%20Agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interactive Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Knowledge%20Extraction%20and%20Storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Extraction and Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Document%20RAG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document RAG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../RAG%20Agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RAG Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MCP%20Agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    SQL Agent
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL Agent
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        16_sql_agent
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent--sql-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQL Agent
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL Agent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--why-sql-agents-matter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why SQL Agents Matter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--available-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Available Tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--defining-input-and-output-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defining Input and Output Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--tool-design-for-database-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tool Design for Database Access
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--building-the-sql-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building the SQL Agent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--safety-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safety Considerations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--example-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Takeaways
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--api-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        API References
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.Customer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.Product" class="md-nav__link">
    <span class="md-ellipsis">
      
        Product
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.Query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.SQLResult" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQLResult
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.SalesOrder" class="md-nav__link">
    <span class="md-ellipsis">
      
        SalesOrder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.get_database_schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_database_schema
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.get_knowledge_base" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_knowledge_base
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.get_table_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_table_sample
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.main" class="md-nav__link">
    <span class="md-ellipsis">
      
        main
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.populate_knowledge_base" class="md-nav__link">
    <span class="md-ellipsis">
      
        populate_knowledge_base
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.run_sql_query" class="md-nav__link">
    <span class="md-ellipsis">
      
        run_sql_query
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modules
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CheatSheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CheatSheet
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Differences%20with%20Keras/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differences with Keras
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Differences%20with%20DSPy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differences with DSPy
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10">
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Synalinks API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Synalinks API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Language%20Models%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Language Models API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Embedding%20Models%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Embedding Models API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Knowledge%20Bases%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Bases API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4">
        
          
          <label class="md-nav__link" for="__nav_10_4" id="__nav_10_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data Models API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data Models API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Data%20Models%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Models API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Data%20Models%20API/The%20DataModel%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The DataModel class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Data%20Models%20API/The%20JsonDataModel%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The JsonDataModel class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Data%20Models%20API/The%20SymbolicDataModel%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The SymbolicDataModel class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Data%20Models%20API/The%20Variable%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Variable class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Data%20Models%20API/The%20Base%20DataModels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Base DataModels
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5">
        
          
          <label class="md-nav__link" for="__nav_10_5" id="__nav_10_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Programs API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Programs API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Programs%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Programs API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Programs%20API/The%20Program%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Program class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Programs%20API/The%20Sequential%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Sequential class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Programs%20API/Program%20training%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Program training API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5_5">
        
          
          <label class="md-nav__link" for="__nav_10_5_5" id="__nav_10_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Program Saving API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Program Saving API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Programs%20API/Program%20Saving%20API/Program%20saving%20and%20loading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Program saving and loading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Programs%20API/Program%20Saving%20API/Variable%20saving%20and%20loading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Variable saving and loading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6">
        
          
          <label class="md-nav__link" for="__nav_10_6" id="__nav_10_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Modules API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Modules API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Base%20Module%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Base Module class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_3">
        
          
          <label class="md-nav__link" for="__nav_10_6_3" id="__nav_10_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Core Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/Input%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Input module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/Identity%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identity module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/Not%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Not module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/Generator%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generator module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/Decision%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Decision module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/Action%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Action module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/Branch%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Branch module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Core%20Modules/Tool%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_4">
        
          
          <label class="md-nav__link" for="__nav_10_6_4" id="__nav_10_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Agents Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agents Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Agents%20Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Agents%20Modules/FunctionCallingAgent%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FunctionCallingAgent module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_5">
        
          
          <label class="md-nav__link" for="__nav_10_6_5" id="__nav_10_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Knowledge Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Knowledge%20Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Knowledge%20Modules/EmbedKnowledge%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EmbedKnowledge module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Knowledge%20Modules/UpdateKnowledge%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UpdateKnowledge module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Knowledge%20Modules/RetrieveKnowledge%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RetrieveKnowledge module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_6">
        
          
          <label class="md-nav__link" for="__nav_10_6_6" id="__nav_10_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Masking Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Masking Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Masking%20Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Masking Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Masking%20Modules/InMask%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    InMask module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Masking%20Modules/OutMask%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OutMask module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_7">
        
          
          <label class="md-nav__link" for="__nav_10_6_7" id="__nav_10_6_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Merging Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Merging Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Merging%20Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Merging Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Merging%20Modules/Concat%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Concat module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Merging%20Modules/And%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    And module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Merging%20Modules/Or%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Or module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Merging%20Modules/Xor%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Xor module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_8">
        
          
          <label class="md-nav__link" for="__nav_10_6_8" id="__nav_10_6_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Test Time Compute Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Test Time Compute Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Test%20Time%20Compute%20Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Time Compute Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Test%20Time%20Compute%20Modules/ChainOfThought%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ChainOfThought module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Test%20Time%20Compute%20Modules/SelfCritique%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SelfCritique module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6_9">
        
          
          <label class="md-nav__link" for="__nav_10_6_9" id="__nav_10_6_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Synthesis Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_6_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Synthesis Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Synthesis%20Modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synthesis Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Synthesis%20Modules/PythonSynthesis%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PythonSynthesis module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Modules%20API/Synthesis%20Modules/SequentialPlanSynthesis%20module/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SequentialPlanSynthesis module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7">
        
          
          <label class="md-nav__link" for="__nav_10_7" id="__nav_10_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Callbacks API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Callbacks API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Callbacks%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Callbacks API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Callbacks%20API/Base%20Callback%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Base Callback class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Callbacks%20API/ProgramCheckpoint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ProgramCheckpoint
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Callbacks%20API/CSVLogger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CSVLogger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Callbacks%20API/BackUpAndRestore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BackUpAndRestore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Callbacks%20API/EarlyStopping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EarlyStopping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Callbacks%20API/Monitor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_8">
        
          
          <label class="md-nav__link" for="__nav_10_8" id="__nav_10_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Hooks API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Hooks API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Hooks%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hook API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Hooks%20API/Base%20Hook%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Base Hook class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Hooks%20API/Logger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Hooks%20API/Monitor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_9">
        
          
          <label class="md-nav__link" for="__nav_10_9" id="__nav_10_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Ops API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ops API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Ops%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ops API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Ops%20API/JSON%20Ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JSON Ops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Ops%20API/Language%20Models%20Ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Language Models Ops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Ops%20API/Embedding%20Models%20Ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Embedding Models Ops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_10">
        
          
          <label class="md-nav__link" for="__nav_10_10" id="__nav_10_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Optimizers API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Optimizers API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Optimizers%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Optimizers API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Optimizers%20API/Base%20Optimizer%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Base Optimizer class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Optimizers%20API/RandomFewShot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RandomFewShot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Optimizers%20API/OMEGA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OMEGA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_11">
        
          
          <label class="md-nav__link" for="__nav_10_11" id="__nav_10_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Metrics
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Metrics/Base%20Metric%20class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Base Metric class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Metrics/Metric%20wrappers%20and%20reduction%20metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metric wrappers and reduction metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Metrics/Regression%20metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Regression metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Metrics/FScore%20metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FScore metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_12">
        
          
          <label class="md-nav__link" for="__nav_10_12" id="__nav_10_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Rewards
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Rewards
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Rewards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rewards
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Rewards/ExactMatch%20reward/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ExactMatch reward
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Rewards/CosineSimilarity%20reward/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CosineSimilarity reward
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Rewards/LMAsJudge%20reward/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LMAsJudge reward
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Rewards/Reward%20wrappers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reward wrappers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_13">
        
          
          <label class="md-nav__link" for="__nav_10_13" id="__nav_10_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Built-in Datasets
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    Built-in Datasets
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Built-in%20Datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Built-in Datasets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Built-in%20Datasets/GSM8K/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GSM8K
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Built-in%20Datasets/HotpotQA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HotpotQA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Built-in%20Datasets/ARC-AGI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ARC AGI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_14">
        
          
          <label class="md-nav__link" for="__nav_10_14" id="__nav_10_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Utilities/Program%20plotting%20utilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Program plotting utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Utilities/More%20plotting%20utilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    More plotting utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Utilities/NLP%20utilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NLP utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Synalinks%20API/Config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11">
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Deployment/Building%20a%20REST%20API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building a REST API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12">
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Observability
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Observability
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Observability/MLflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Observability with MLflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        16_sql_agent
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent--sql-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQL Agent
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL Agent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--why-sql-agents-matter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why SQL Agents Matter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--available-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Available Tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--defining-input-and-output-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defining Input and Output Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--tool-design-for-database-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tool Design for Database Access
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--building-the-sql-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building the SQL Agent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--safety-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safety Considerations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--example-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Takeaways
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples.16_sql_agent--api-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        API References
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.Customer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.Product" class="md-nav__link">
    <span class="md-ellipsis">
      
        Product
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.Query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.SQLResult" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQLResult
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.SalesOrder" class="md-nav__link">
    <span class="md-ellipsis">
      
        SalesOrder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.get_database_schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_database_schema
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.get_knowledge_base" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_knowledge_base
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.get_table_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_table_sample
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.main" class="md-nav__link">
    <span class="md-ellipsis">
      
        main
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.populate_knowledge_base" class="md-nav__link">
    <span class="md-ellipsis">
      
        populate_knowledge_base
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples.16_sql_agent.run_sql_query" class="md-nav__link">
    <span class="md-ellipsis">
      
        run_sql_query
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>SQL Agent</h1>

<div class="doc doc-object doc-module">



<a id="examples.16_sql_agent"></a>
    <div class="doc doc-contents first">

        <h2 id="examples.16_sql_agent--sql-agent">SQL Agent</h2>
<p>An <strong>SQL Agent</strong> combines the reasoning capabilities of LLMs with structured
database access. Instead of writing SQL manually, users ask questions in
natural language and the agent autonomously discovers the schema, constructs
queries, and returns answers.</p>
<h3 id="examples.16_sql_agent--why-sql-agents-matter">Why SQL Agents Matter</h3>
<p>Traditional database access requires SQL knowledge. An SQL Agent bridges
this gap:</p>
<pre class="mermaid"><code>graph LR
    subgraph Traditional
        A[User] --&gt; B[Write SQL]
        B --&gt; C[Execute Query]
        C --&gt; D[Interpret Results]
    end
    subgraph SQL Agent
        E[User Question] --&gt; F[Agent Reasons]
        F --&gt; G[Auto-generates SQL]
        G --&gt; H[Natural Language Answer]
    end</code></pre>
<p>SQL Agents provide:</p>
<ol>
<li><strong>Natural Language Interface</strong>: Ask questions without knowing SQL</li>
<li><strong>Schema Discovery</strong>: Agent explores database structure automatically</li>
<li><strong>Query Generation</strong>: Constructs correct SQL based on user intent</li>
<li><strong>Safe Execution</strong>: Read-only queries prevent accidental modifications</li>
</ol>
<h3 id="examples.16_sql_agent--architecture">Architecture</h3>
<p>The SQL Agent uses three specialized tools to interact with the Knowledge Base:</p>
<pre class="mermaid"><code>flowchart TD
    A[User Question] --&gt; B[FunctionCallingAgent]
    B --&gt; C{Select Tool}
    C --&gt;|Discover structure| D[get_database_schema]
    C --&gt;|View sample data| E[get_table_sample]
    C --&gt;|Execute query| F[run_sql_query]
    D --&gt; G[Schema Info]
    E --&gt; H[Sample Rows]
    F --&gt; I[Query Results]
    G --&gt; B
    H --&gt; B
    I --&gt; B
    B --&gt; J[Natural Language Answer + SQL]</code></pre>
<p>The agent follows an autonomous loop: it first discovers the schema, optionally
samples data to understand the format, then constructs and executes SQL queries.
This process repeats until the agent has enough information to answer.</p>
<h3 id="examples.16_sql_agent--available-tools">Available Tools</h3>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>get_database_schema</code></td>
<td>Returns all tables and their columns with types</td>
</tr>
<tr>
<td><code>get_table_sample</code></td>
<td>Fetches sample rows from a table with pagination</td>
</tr>
<tr>
<td><code>run_sql_query</code></td>
<td>Executes read-only SELECT queries safely</td>
</tr>
</tbody>
</table>
<h3 id="examples.16_sql_agent--defining-input-and-output-models">Defining Input and Output Models</h3>
<p>First, define DataModels for the agent's input (user query) and output
(answer with SQL):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">synalinks</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">Query</span><span class="p">(</span><span class="n">synalinks</span><span class="o">.</span><span class="n">DataModel</span><span class="p">):</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="sd">"""A natural language query about the database."""</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>        <span class="n">description</span><span class="o">=</span><span class="s2">"The user's question about the data in natural language"</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">class</span><span class="w"> </span><span class="nc">SQLResult</span><span class="p">(</span><span class="n">synalinks</span><span class="o">.</span><span class="n">DataModel</span><span class="p">):</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="sd">"""The result of the SQL agent's analysis."""</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">answer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        <span class="n">description</span><span class="o">=</span><span class="s2">"A clear, natural language answer to the user's question"</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">sql_query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>        <span class="n">description</span><span class="o">=</span><span class="s2">"The SQL query that was executed to get the answer"</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="p">)</span>
</code></pre></div>
<p>The <code>Query</code> model captures the user's natural language question. The <code>SQLResult</code>
model structures the output to include both a human-readable answer and the
SQL query used, providing transparency into the agent's reasoning.</p>
<h3 id="examples.16_sql_agent--tool-design-for-database-access">Tool Design for Database Access</h3>
<p>Each tool uses <code>kb.get_symbolic_data_models()</code> to dynamically discover
available tables. This makes the agent adaptable to any database schema
without hardcoding table names.</p>
<p><strong>Important Tool Constraints:</strong></p>
<ul>
<li>
<p><strong>No Optional Parameters</strong>: All tool parameters must be required. OpenAI
  and other LLM providers require all parameters in their JSON schemas. Do
  not use default values for parameters.</p>
</li>
<li>
<p><strong>Complete Docstring Required</strong>: Every parameter must be documented in the
  <code>Args:</code> section. The Tool extracts descriptions from the docstring to build
  the JSON schema sent to the LLM. Missing descriptions raise a ValueError.</p>
</li>
</ul>
<p>Example tool definition:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">synalinks.src.saving.object_registration</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_synalinks_serializable</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nd">@register_synalinks_serializable</span><span class="p">()</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_database_schema</span><span class="p">():</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="sd">"""Get the complete database schema including all tables and columns."""</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="n">kb</span> <span class="o">=</span> <span class="n">get_knowledge_base</span><span class="p">()</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="n">symbolic_models</span> <span class="o">=</span> <span class="n">kb</span><span class="o">.</span><span class="n">get_symbolic_data_models</span><span class="p">()</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    <span class="n">schema_info</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">symbolic_models</span><span class="p">:</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_schema</span><span class="p">()</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>        <span class="n">table_name</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span> <span class="s2">"Unknown"</span><span class="p">)</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>        <span class="n">properties</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"properties"</span><span class="p">,</span> <span class="p">{})</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>        <span class="n">columns</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>        <span class="k">for</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_info</span> <span class="ow">in</span> <span class="n">properties</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>            <span class="n">col_type</span> <span class="o">=</span> <span class="n">col_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span> <span class="s2">"unknown"</span><span class="p">)</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>            <span class="n">columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  - </span><span class="si">{</span><span class="n">col_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">col_type</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>        <span class="n">schema_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Table: </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span> <span class="o">+</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">columns</span><span class="p">))</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    <span class="k">return</span> <span class="p">{</span><span class="s2">"schema"</span><span class="p">:</span> <span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">schema_info</span><span class="p">),</span> <span class="s2">"table_count"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">symbolic_models</span><span class="p">)}</span>
</code></pre></div>
<p>The <code>@register_synalinks_serializable()</code> decorator enables the tool to be
saved and loaded with the program. The tool extracts table names and column
information from the JSON schema of each symbolic data model.</p>
<h3 id="examples.16_sql_agent--building-the-sql-agent">Building the SQL Agent</h3>
<p>Wrap the tool functions with <code>synalinks.Tool()</code> and create the agent using
<code>FunctionCallingAgent</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Create Knowledge Base with your data models</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">kb</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">KnowledgeBase</span><span class="p">(</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="n">uri</span><span class="o">=</span><span class="s2">"duckdb://my_database.db"</span><span class="p">,</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="n">data_models</span><span class="o">=</span><span class="p">[</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Product</span><span class="p">,</span> <span class="n">SalesOrder</span><span class="p">],</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c1"># Configure language model</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="n">lm</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">LanguageModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"openai/gpt-4.1-mini"</span><span class="p">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="c1"># Wrap async functions as Tool objects</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="n">schema_tool</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Tool</span><span class="p">(</span><span class="n">get_database_schema</span><span class="p">)</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="n">sample_tool</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Tool</span><span class="p">(</span><span class="n">get_table_sample</span><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="n">query_tool</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Tool</span><span class="p">(</span><span class="n">run_sql_query</span><span class="p">)</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="c1"># Build the agent using Functional API</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="n">inputs</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Input</span><span class="p">(</span><span class="n">data_model</span><span class="o">=</span><span class="n">Query</span><span class="p">)</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="n">outputs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">FunctionCallingAgent</span><span class="p">(</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>    <span class="n">data_model</span><span class="o">=</span><span class="n">SQLResult</span><span class="p">,</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>    <span class="n">language_model</span><span class="o">=</span><span class="n">lm</span><span class="p">,</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">schema_tool</span><span class="p">,</span> <span class="n">sample_tool</span><span class="p">,</span> <span class="n">query_tool</span><span class="p">],</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>    <span class="n">autonomous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                    <span class="c1"># Run until agent decides it's done</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>    <span class="n">max_iterations</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>                  <span class="c1"># Safety limit to prevent infinite loops</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>    <span class="n">return_inputs_with_trajectory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="c1"># Include full tool call history</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="p">)(</span><span class="n">inputs</span><span class="p">)</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="n">sql_agent</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Program</span><span class="p">(</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>    <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>    <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">"sql_agent"</span><span class="p">,</span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="p">)</span>
</code></pre></div>
<p>The <code>autonomous=True</code> setting allows the agent to make multiple tool calls
until it has gathered enough information. The <code>max_iterations</code> parameter
prevents runaway execution.</p>
<h3 id="examples.16_sql_agent--safety-considerations">Safety Considerations</h3>
<p>The <code>run_sql_query</code> tool enforces read-only access through multiple layers:</p>
<ol>
<li><strong>SELECT Only</strong>: Rejects queries not starting with SELECT</li>
<li><strong>Keyword Filtering</strong>: Blocks DROP, DELETE, INSERT, UPDATE, ALTER, etc.</li>
<li><strong>Read-Only Mode</strong>: Uses <code>kb.query(sql, read_only=True)</code></li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nd">@register_synalinks_serializable</span><span class="p">()</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_sql_query</span><span class="p">(</span><span class="n">sql_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="sd">"""Execute a read-only SQL query."""</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="n">kb</span> <span class="o">=</span> <span class="n">get_knowledge_base</span><span class="p">()</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="c1"># Validate query is read-only</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="n">query_upper</span> <span class="o">=</span> <span class="n">sql_query</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">query_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"SELECT"</span><span class="p">):</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">"error"</span><span class="p">:</span> <span class="s2">"Only SELECT queries are allowed."</span><span class="p">,</span> <span class="s2">"success"</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    <span class="c1"># Check for dangerous keywords</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    <span class="n">dangerous</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"DROP"</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">,</span> <span class="s2">"INSERT"</span><span class="p">,</span> <span class="s2">"UPDATE"</span><span class="p">,</span> <span class="s2">"ALTER"</span><span class="p">,</span> <span class="s2">"CREATE"</span><span class="p">]</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">dangerous</span><span class="p">:</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>        <span class="k">if</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">query_upper</span><span class="p">:</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">"error"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"Forbidden keyword: </span><span class="si">{</span><span class="n">keyword</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="s2">"success"</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>    <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">kb</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sql_query</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>    <span class="k">return</span> <span class="p">{</span><span class="s2">"success"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">"results"</span><span class="p">:</span> <span class="n">results</span><span class="p">,</span> <span class="s2">"row_count"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)}</span>
</code></pre></div>
<h3 id="examples.16_sql_agent--example-usage">Example Usage</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Ask a natural language question</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">sql_agent</span><span class="p">(</span><span class="n">Query</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">"Who are the top 3 customers by orders?"</span><span class="p">))</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">"answer"</span><span class="p">])</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1"># Output: "The top 3 customers are: Carlos Garcia ($1539.96),</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="c1">#          Alice Johnson ($1489.96), and Diana Chen ($379.94)"</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">"sql_query"</span><span class="p">])</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="c1"># Output: "SELECT c.name, SUM(o.total_amount) as total</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="c1">#          FROM Customer c JOIN SalesOrder o ON c.id = o.customer_id</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="c1">#          GROUP BY c.name ORDER BY total DESC LIMIT 3"</span>
</code></pre></div>
<p>The agent automatically:
1. Discovered the Customer and SalesOrder tables
2. Understood the relationship via customer_id
3. Wrote a proper JOIN with aggregation
4. Returned both the answer and the SQL for transparency</p>
<h3 id="examples.16_sql_agent--key-takeaways">Key Takeaways</h3>
<ul>
<li>
<p><strong>Dynamic Schema Discovery</strong>: Use <code>kb.get_symbolic_data_models()</code> to make
  tools adaptable to any database structure without hardcoding.</p>
</li>
<li>
<p><strong>Autonomous Reasoning</strong>: The <code>FunctionCallingAgent</code> with <code>autonomous=True</code>
  iteratively calls tools until it can answer the question.</p>
</li>
<li>
<p><strong>Safety First</strong>: Always validate SQL queries and use read-only mode to
  prevent accidental data modifications.</p>
</li>
<li>
<p><strong>Transparent Outputs</strong>: Include the generated SQL in the output so users
  can verify and learn from the agent's reasoning.</p>
</li>
<li>
<p><strong>Tool Serialization</strong>: Use <code>@register_synalinks_serializable()</code> on tool
  functions to enable program saving and loading.</p>
</li>
</ul>
<h3 id="examples.16_sql_agent--api-references">API References</h3>
<ul>
<li><a href="https://synalinks.github.io/synalinks/Synalinks%20API/Modules%20API/Agent%20Modules/FunctionCallingAgent%20module/">FunctionCallingAgent</a></li>
<li><a href="https://synalinks.github.io/synalinks/Synalinks%20API/Knowledge%20Base%20API/">KnowledgeBase</a></li>
<li><a href="https://synalinks.github.io/synalinks/Synalinks%20API/Modules%20API/Core%20Modules/Tool%20module/">Tool</a></li>
</ul>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="examples.16_sql_agent.Customer" class="doc doc-heading">
            <code>Customer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="synalinks.DataModel">DataModel</span></code></p>



        <p>A customer in the database.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="k">class</span><span class="w"> </span><span class="nc">Customer</span><span class="p">(</span><span class="n">synalinks</span><span class="o">.</span><span class="n">DataModel</span><span class="p">):</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="w">    </span><span class="sd">"""A customer in the database."""</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Customer ID"</span><span class="p">)</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Customer name"</span><span class="p">)</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Customer email"</span><span class="p">)</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Customer country"</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="examples.16_sql_agent.Product" class="doc doc-heading">
            <code>Product</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="synalinks.DataModel">DataModel</span></code></p>



        <p>A product in the database.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="k">class</span><span class="w"> </span><span class="nc">Product</span><span class="p">(</span><span class="n">synalinks</span><span class="o">.</span><span class="n">DataModel</span><span class="p">):</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="w">    </span><span class="sd">"""A product in the database."""</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Product ID"</span><span class="p">)</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Product name"</span><span class="p">)</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>    <span class="n">category</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Product category"</span><span class="p">)</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>    <span class="n">price</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Product price"</span><span class="p">)</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>    <span class="n">stock</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Stock quantity"</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="examples.16_sql_agent.Query" class="doc doc-heading">
            <code>Query</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="synalinks.DataModel">DataModel</span></code></p>



        <p>A natural language query about the database.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-302" name="__codelineno-0-302"></a><span class="k">class</span><span class="w"> </span><span class="nc">Query</span><span class="p">(</span><span class="n">synalinks</span><span class="o">.</span><span class="n">DataModel</span><span class="p">):</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="w">    </span><span class="sd">"""A natural language query about the database."""</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="n">query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>        <span class="n">description</span><span class="o">=</span><span class="s2">"The user's question about the data in natural language"</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>    <span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="examples.16_sql_agent.SQLResult" class="doc doc-heading">
            <code>SQLResult</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="synalinks.DataModel">DataModel</span></code></p>



        <p>The result of the SQL agent's analysis.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="k">class</span><span class="w"> </span><span class="nc">SQLResult</span><span class="p">(</span><span class="n">synalinks</span><span class="o">.</span><span class="n">DataModel</span><span class="p">):</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="w">    </span><span class="sd">"""The result of the SQL agent's analysis."""</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>    <span class="n">answer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>        <span class="n">description</span><span class="o">=</span><span class="s2">"A clear, natural language answer to the user's question"</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>    <span class="p">)</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>    <span class="n">sql_query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="n">description</span><span class="o">=</span><span class="s2">"The SQL query that was executed to get the answer"</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>    <span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="examples.16_sql_agent.SalesOrder" class="doc doc-heading">
            <code>SalesOrder</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="synalinks.DataModel">DataModel</span></code></p>



        <p>An order in the database.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-291" name="__codelineno-0-291"></a><span class="k">class</span><span class="w"> </span><span class="nc">SalesOrder</span><span class="p">(</span><span class="n">synalinks</span><span class="o">.</span><span class="n">DataModel</span><span class="p">):</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a><span class="w">    </span><span class="sd">"""An order in the database."""</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Order ID"</span><span class="p">)</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>    <span class="n">customer_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Customer ID"</span><span class="p">)</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>    <span class="n">product_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Product ID"</span><span class="p">)</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span class="n">quantity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Quantity ordered"</span><span class="p">)</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>    <span class="n">total_amount</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Total order amount"</span><span class="p">)</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="n">status</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">"Order status"</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="examples.16_sql_agent.get_database_schema" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_database_schema</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get the complete database schema including all tables and their columns.</p>
<p>Returns a list of all tables with their column names and types.
Use this tool first to understand what data is available before writing queries.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-339" name="__codelineno-0-339"></a><span class="nd">@register_synalinks_serializable</span><span class="p">()</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_database_schema</span><span class="p">():</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="w">    </span><span class="sd">"""Get the complete database schema including all tables and their columns.</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">    Returns a list of all tables with their column names and types.</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">    Use this tool first to understand what data is available before writing queries.</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">    """</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>    <span class="n">kb</span> <span class="o">=</span> <span class="n">get_knowledge_base</span><span class="p">()</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>    <span class="n">symbolic_models</span> <span class="o">=</span> <span class="n">kb</span><span class="o">.</span><span class="n">get_symbolic_data_models</span><span class="p">()</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>    <span class="n">schema_info</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">symbolic_models</span><span class="p">:</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_schema</span><span class="p">()</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>        <span class="n">table_name</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span> <span class="s2">"Unknown"</span><span class="p">)</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>        <span class="n">properties</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"properties"</span><span class="p">,</span> <span class="p">{})</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="n">columns</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>        <span class="k">for</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_info</span> <span class="ow">in</span> <span class="n">properties</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>            <span class="n">col_type</span> <span class="o">=</span> <span class="n">col_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span> <span class="s2">"unknown"</span><span class="p">)</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>            <span class="n">col_desc</span> <span class="o">=</span> <span class="n">col_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"description"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>            <span class="n">columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  - </span><span class="si">{</span><span class="n">col_name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">col_type</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">col_desc</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>        <span class="n">schema_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Table: </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span> <span class="o">+</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">columns</span><span class="p">))</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>    <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>        <span class="s2">"schema"</span><span class="p">:</span> <span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">schema_info</span><span class="p">),</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span class="s2">"table_count"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">symbolic_models</span><span class="p">),</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>    <span class="p">}</span>
</code></pre></div></td></tr></tbody></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="examples.16_sql_agent.get_knowledge_base" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_knowledge_base</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Get the global knowledge base instance.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_knowledge_base</span><span class="p">():</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="w">    </span><span class="sd">"""Get the global knowledge base instance."""</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>    <span class="k">global</span> <span class="n">_knowledge_base</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>    <span class="k">return</span> <span class="n">_knowledge_base</span>
</code></pre></div></td></tr></tbody></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="examples.16_sql_agent.get_table_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_table_sample</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get a sample of rows from a specific table to understand the data format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>table_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the table to sample.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>limit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of sample rows to return (recommended: 3-5).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>offset</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of rows to skip before returning results (use 0 for start).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-369" name="__codelineno-0-369"></a><span class="nd">@register_synalinks_serializable</span><span class="p">()</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_table_sample</span><span class="p">(</span><span class="n">table_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a><span class="w">    </span><span class="sd">"""Get a sample of rows from a specific table to understand the data format.</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="sd">        table_name (str): The name of the table to sample.</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a><span class="sd">        limit (int): Number of sample rows to return (recommended: 3-5).</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a><span class="sd">        offset (int): Number of rows to skip before returning results (use 0 for start).</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a><span class="sd">    """</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>    <span class="n">kb</span> <span class="o">=</span> <span class="n">get_knowledge_base</span><span class="p">()</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>    <span class="n">symbolic_models</span> <span class="o">=</span> <span class="n">kb</span><span class="o">.</span><span class="n">get_symbolic_data_models</span><span class="p">()</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="c1"># Find the matching symbolic model by table name</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>    <span class="n">target_model</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="n">available_tables</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">symbolic_models</span><span class="p">:</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_schema</span><span class="p">()</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>        <span class="n">name</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span> <span class="s2">"Unknown"</span><span class="p">)</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>        <span class="n">available_tables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="n">table_name</span><span class="p">:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>            <span class="n">target_model</span> <span class="o">=</span> <span class="n">model</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>            <span class="k">break</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>    <span class="k">if</span> <span class="n">target_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">"error"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"Table '</span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">' not found. Available: </span><span class="si">{</span><span class="n">available_tables</span><span class="si">}</span><span class="s2">"</span><span class="p">}</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>        <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">kb</span><span class="o">.</span><span class="n">getall</span><span class="p">(</span><span class="n">target_model</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">offset</span><span class="p">)</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>            <span class="s2">"table"</span><span class="p">:</span> <span class="n">table_name</span><span class="p">,</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>            <span class="s2">"sample_data"</span><span class="p">:</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">results</span><span class="p">],</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>            <span class="s2">"row_count"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">),</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>        <span class="p">}</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">"error"</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)}</span>
</code></pre></div></td></tr></tbody></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="examples.16_sql_agent.main" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">main</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Demonstrate the SQL agent with natural language queries.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-648" name="__codelineno-0-648"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a><span class="w">    </span><span class="sd">"""Demonstrate the SQL agent with natural language queries."""</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a>    <span class="k">global</span> <span class="n">_knowledge_base</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a>    <span class="n">load_dotenv</span><span class="p">()</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a>    <span class="n">synalinks</span><span class="o">.</span><span class="n">clear_session</span><span class="p">()</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a>    <span class="c1"># -------------------------------------------------------------------------</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>    <span class="c1"># Create Knowledge Base</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a>    <span class="c1"># -------------------------------------------------------------------------</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"SQL Agent with Knowledge Base"</span><span class="p">)</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>    <span class="n">db_path</span> <span class="o">=</span> <span class="s2">"guides/sql_agent.db"</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">db_path</span><span class="p">):</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">db_path</span><span class="p">)</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Creating knowledge base..."</span><span class="p">)</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>    <span class="n">_knowledge_base</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">KnowledgeBase</span><span class="p">(</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>        <span class="n">uri</span><span class="o">=</span><span class="sa">f</span><span class="s2">"duckdb://</span><span class="si">{</span><span class="n">db_path</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>        <span class="n">data_models</span><span class="o">=</span><span class="p">[</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Product</span><span class="p">,</span> <span class="n">SalesOrder</span><span class="p">],</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>        <span class="n">wipe_on_start</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>        <span class="n">name</span><span class="o">=</span><span class="s2">"sql_agent_kb"</span><span class="p">,</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>    <span class="p">)</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"Populating with sample data..."</span><span class="p">)</span>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>    <span class="k">await</span> <span class="n">populate_knowledge_base</span><span class="p">(</span><span class="n">_knowledge_base</span><span class="p">)</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>    <span class="c1"># -------------------------------------------------------------------------</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>    <span class="c1"># Create SQL Agent</span>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>    <span class="c1"># -------------------------------------------------------------------------</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Building SQL agent..."</span><span class="p">)</span>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a>    <span class="n">lm</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">LanguageModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"openai/gpt-4.1-mini"</span><span class="p">)</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>    <span class="c1"># Wrap tools</span>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a>    <span class="n">schema_tool</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Tool</span><span class="p">(</span><span class="n">get_database_schema</span><span class="p">)</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a>    <span class="n">sample_tool</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Tool</span><span class="p">(</span><span class="n">get_table_sample</span><span class="p">)</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a>    <span class="n">query_tool</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Tool</span><span class="p">(</span><span class="n">run_sql_query</span><span class="p">)</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>    <span class="c1"># Build the SQL agent</span>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a>    <span class="n">inputs</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Input</span><span class="p">(</span><span class="n">data_model</span><span class="o">=</span><span class="n">Query</span><span class="p">)</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a>    <span class="n">outputs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">FunctionCallingAgent</span><span class="p">(</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>        <span class="n">data_model</span><span class="o">=</span><span class="n">SQLResult</span><span class="p">,</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>        <span class="n">language_model</span><span class="o">=</span><span class="n">lm</span><span class="p">,</span>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a>        <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">schema_tool</span><span class="p">,</span> <span class="n">sample_tool</span><span class="p">,</span> <span class="n">query_tool</span><span class="p">],</span>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a>        <span class="n">autonomous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>        <span class="n">max_iterations</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>        <span class="n">return_inputs_with_trajectory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a>    <span class="p">)(</span><span class="n">inputs</span><span class="p">)</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a>    <span class="n">sql_agent</span> <span class="o">=</span> <span class="n">synalinks</span><span class="o">.</span><span class="n">Program</span><span class="p">(</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>        <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a>        <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>        <span class="n">name</span><span class="o">=</span><span class="s2">"sql_agent"</span><span class="p">,</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>        <span class="n">description</span><span class="o">=</span><span class="s2">"An agent that answers questions about data using SQL queries"</span><span class="p">,</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>    <span class="p">)</span>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>    <span class="n">sql_agent</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>    <span class="c1"># -------------------------------------------------------------------------</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>    <span class="c1"># Demo Queries</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>    <span class="c1"># -------------------------------------------------------------------------</span>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>    <span class="n">example_queries</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>        <span class="s2">"What tables are available in the database?"</span><span class="p">,</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>        <span class="s2">"Who are the top 3 customers by total order amount?"</span><span class="p">,</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>        <span class="s2">"What is the most popular product category?"</span><span class="p">,</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>        <span class="s2">"Show me all pending orders with customer names"</span><span class="p">,</span>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>    <span class="p">]</span>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span> <span class="o">+</span> <span class="s2">"="</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"SQL Agent Demo"</span><span class="p">)</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a>    <span class="k">for</span> <span class="n">query_text</span> <span class="ow">in</span> <span class="n">example_queries</span><span class="p">:</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Question: </span><span class="si">{</span><span class="n">query_text</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span> <span class="o">*</span> <span class="mi">40</span><span class="p">)</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a>            <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">sql_agent</span><span class="p">(</span><span class="n">Query</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">query_text</span><span class="p">))</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a>            <span class="c1"># Show trajectory (tool calls and results)</span>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a>            <span class="n">messages</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"messages"</span><span class="p">,</span> <span class="p">[])</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a>            <span class="n">tool_calls_count</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a>            <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a>                <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"role"</span><span class="p">)</span> <span class="o">==</span> <span class="s2">"assistant"</span> <span class="ow">and</span> <span class="n">msg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"tool_calls"</span><span class="p">):</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>                    <span class="k">for</span> <span class="n">tool_call</span> <span class="ow">in</span> <span class="n">msg</span><span class="p">[</span><span class="s2">"tool_calls"</span><span class="p">]:</span>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>                        <span class="n">tool_calls_count</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>                        <span class="n">args</span> <span class="o">=</span> <span class="n">tool_call</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"arguments"</span><span class="p">,</span> <span class="p">{})</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>                        <span class="n">args_str</span> <span class="o">=</span> <span class="s2">", "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>                        <span class="nb">print</span><span class="p">(</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>                            <span class="sa">f</span><span class="s2">"Tool Call </span><span class="si">{</span><span class="n">tool_calls_count</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tool_call</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">args_str</span><span class="si">}</span><span class="s2">)"</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>                        <span class="p">)</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>                <span class="k">elif</span> <span class="n">msg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"role"</span><span class="p">)</span> <span class="o">==</span> <span class="s2">"tool"</span><span class="p">:</span>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>                    <span class="n">content</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"content"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>                    <span class="c1"># Truncate long results for readability</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="p">:</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>                        <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="p">[:</span><span class="mi">200</span><span class="p">]</span> <span class="o">+</span> <span class="s2">"..."</span>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Tool Result: </span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Answer: </span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s1">'answer'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"SQL: </span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s1">'sql_query'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a>        <span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a>    <span class="c1"># Cleanup</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a>    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">db_path</span><span class="p">):</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a>        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">db_path</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="examples.16_sql_agent.populate_knowledge_base" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">populate_knowledge_base</span><span class="p">(</span><span class="n">kb</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Populate the knowledge base with sample data.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-452" name="__codelineno-0-452"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">populate_knowledge_base</span><span class="p">(</span><span class="n">kb</span><span class="p">):</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a><span class="w">    </span><span class="sd">"""Populate the knowledge base with sample data."""</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>    <span class="c1"># Sample customers</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>    <span class="n">customers</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>        <span class="n">Customer</span><span class="p">(</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"C001"</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"Alice Johnson"</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s2">"alice@example.com"</span><span class="p">,</span> <span class="n">country</span><span class="o">=</span><span class="s2">"USA"</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>        <span class="p">),</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>        <span class="n">Customer</span><span class="p">(</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"C002"</span><span class="p">,</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Bob Smith"</span><span class="p">,</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>            <span class="n">email</span><span class="o">=</span><span class="s2">"bob@example.com"</span><span class="p">,</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>            <span class="n">country</span><span class="o">=</span><span class="s2">"UK"</span><span class="p">,</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>        <span class="p">),</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>        <span class="n">Customer</span><span class="p">(</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"C003"</span><span class="p">,</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Carlos Garcia"</span><span class="p">,</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>            <span class="n">email</span><span class="o">=</span><span class="s2">"carlos@example.com"</span><span class="p">,</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>            <span class="n">country</span><span class="o">=</span><span class="s2">"Spain"</span><span class="p">,</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>        <span class="p">),</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>        <span class="n">Customer</span><span class="p">(</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"C004"</span><span class="p">,</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Diana Chen"</span><span class="p">,</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>            <span class="n">email</span><span class="o">=</span><span class="s2">"diana@example.com"</span><span class="p">,</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>            <span class="n">country</span><span class="o">=</span><span class="s2">"China"</span><span class="p">,</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>        <span class="p">),</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>        <span class="n">Customer</span><span class="p">(</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"C005"</span><span class="p">,</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Emma Wilson"</span><span class="p">,</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>            <span class="n">email</span><span class="o">=</span><span class="s2">"emma@example.com"</span><span class="p">,</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>            <span class="n">country</span><span class="o">=</span><span class="s2">"Canada"</span><span class="p">,</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>        <span class="p">),</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>    <span class="p">]</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>    <span class="c1"># Sample products</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>    <span class="n">products</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>        <span class="n">Product</span><span class="p">(</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"P001"</span><span class="p">,</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Laptop Pro"</span><span class="p">,</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">"Electronics"</span><span class="p">,</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>            <span class="n">price</span><span class="o">=</span><span class="mf">1299.99</span><span class="p">,</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>            <span class="n">stock</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>        <span class="p">),</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>        <span class="n">Product</span><span class="p">(</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"P002"</span><span class="p">,</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Wireless Mouse"</span><span class="p">,</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">"Electronics"</span><span class="p">,</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>            <span class="n">price</span><span class="o">=</span><span class="mf">49.99</span><span class="p">,</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>            <span class="n">stock</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>        <span class="p">),</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>        <span class="n">Product</span><span class="p">(</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"P003"</span><span class="p">,</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Mechanical Keyboard"</span><span class="p">,</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">"Electronics"</span><span class="p">,</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>            <span class="n">price</span><span class="o">=</span><span class="mf">149.99</span><span class="p">,</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>            <span class="n">stock</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>        <span class="p">),</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>        <span class="n">Product</span><span class="p">(</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"P004"</span><span class="p">,</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"USB-C Hub"</span><span class="p">,</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">"Accessories"</span><span class="p">,</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>            <span class="n">price</span><span class="o">=</span><span class="mf">79.99</span><span class="p">,</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>            <span class="n">stock</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>        <span class="p">),</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>        <span class="n">Product</span><span class="p">(</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"P005"</span><span class="p">,</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Monitor Stand"</span><span class="p">,</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">"Accessories"</span><span class="p">,</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>            <span class="n">price</span><span class="o">=</span><span class="mf">89.99</span><span class="p">,</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="n">stock</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>        <span class="p">),</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>        <span class="n">Product</span><span class="p">(</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"P006"</span><span class="p">,</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Webcam HD"</span><span class="p">,</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">"Electronics"</span><span class="p">,</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>            <span class="n">price</span><span class="o">=</span><span class="mf">129.99</span><span class="p">,</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>            <span class="n">stock</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>        <span class="p">),</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>        <span class="n">Product</span><span class="p">(</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"P007"</span><span class="p">,</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Desk Lamp"</span><span class="p">,</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">"Office"</span><span class="p">,</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>            <span class="n">price</span><span class="o">=</span><span class="mf">45.99</span><span class="p">,</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>            <span class="n">stock</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>        <span class="p">),</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>        <span class="n">Product</span><span class="p">(</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"P008"</span><span class="p">,</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">"Notebook Set"</span><span class="p">,</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>            <span class="n">category</span><span class="o">=</span><span class="s2">"Office"</span><span class="p">,</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>            <span class="n">price</span><span class="o">=</span><span class="mf">12.99</span><span class="p">,</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>            <span class="n">stock</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>        <span class="p">),</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>    <span class="p">]</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>    <span class="c1"># Sample orders</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>    <span class="n">orders</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O001"</span><span class="p">,</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C001"</span><span class="p">,</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P001"</span><span class="p">,</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">1299.99</span><span class="p">,</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"completed"</span><span class="p">,</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>        <span class="p">),</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O002"</span><span class="p">,</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C001"</span><span class="p">,</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P002"</span><span class="p">,</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">99.98</span><span class="p">,</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"completed"</span><span class="p">,</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>        <span class="p">),</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O003"</span><span class="p">,</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C002"</span><span class="p">,</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P003"</span><span class="p">,</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">149.99</span><span class="p">,</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"completed"</span><span class="p">,</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>        <span class="p">),</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O004"</span><span class="p">,</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C003"</span><span class="p">,</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P001"</span><span class="p">,</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">1299.99</span><span class="p">,</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"shipped"</span><span class="p">,</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>        <span class="p">),</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O005"</span><span class="p">,</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C003"</span><span class="p">,</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P004"</span><span class="p">,</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">239.97</span><span class="p">,</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"shipped"</span><span class="p">,</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>        <span class="p">),</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O006"</span><span class="p">,</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C004"</span><span class="p">,</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P002"</span><span class="p">,</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">249.95</span><span class="p">,</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"pending"</span><span class="p">,</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>        <span class="p">),</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O007"</span><span class="p">,</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C004"</span><span class="p">,</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P006"</span><span class="p">,</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">129.99</span><span class="p">,</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"completed"</span><span class="p">,</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>        <span class="p">),</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O008"</span><span class="p">,</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C005"</span><span class="p">,</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P007"</span><span class="p">,</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">91.98</span><span class="p">,</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"completed"</span><span class="p">,</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>        <span class="p">),</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O009"</span><span class="p">,</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C005"</span><span class="p">,</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P008"</span><span class="p">,</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">129.90</span><span class="p">,</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"completed"</span><span class="p">,</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>        <span class="p">),</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>        <span class="n">SalesOrder</span><span class="p">(</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>            <span class="nb">id</span><span class="o">=</span><span class="s2">"O010"</span><span class="p">,</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>            <span class="n">customer_id</span><span class="o">=</span><span class="s2">"C001"</span><span class="p">,</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>            <span class="n">product_id</span><span class="o">=</span><span class="s2">"P005"</span><span class="p">,</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>            <span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>            <span class="n">total_amount</span><span class="o">=</span><span class="mf">89.99</span><span class="p">,</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>            <span class="n">status</span><span class="o">=</span><span class="s2">"pending"</span><span class="p">,</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>        <span class="p">),</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>    <span class="p">]</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>    <span class="c1"># Store all data</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>    <span class="k">for</span> <span class="n">customer</span> <span class="ow">in</span> <span class="n">customers</span><span class="p">:</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>        <span class="k">await</span> <span class="n">kb</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">customer</span><span class="o">.</span><span class="n">to_json_data_model</span><span class="p">())</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>    <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">products</span><span class="p">:</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>        <span class="k">await</span> <span class="n">kb</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">to_json_data_model</span><span class="p">())</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>    <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">orders</span><span class="p">:</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>        <span class="k">await</span> <span class="n">kb</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">order</span><span class="o">.</span><span class="n">to_json_data_model</span><span class="p">())</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Stored </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">customers</span><span class="p">)</span><span class="si">}</span><span class="s2"> customers"</span><span class="p">)</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Stored </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">products</span><span class="p">)</span><span class="si">}</span><span class="s2"> products"</span><span class="p">)</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Stored </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">orders</span><span class="p">)</span><span class="si">}</span><span class="s2"> orders"</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="examples.16_sql_agent.run_sql_query" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_sql_query</span><span class="p">(</span><span class="n">sql_query</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Execute a read-only SQL query and return the results.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sql_query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A SELECT SQL query to execute. Only SELECT queries are allowed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="important" open>
  <summary>Important</summary>
  <ul>
<li>Only SELECT queries are permitted for safety</li>
<li>Use get_database_schema first to discover available tables</li>
<li>Use proper JOIN syntax for multi-table queries</li>
<li>Include LIMIT clause for large result sets</li>
</ul>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>examples/16_sql_agent.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-406" name="__codelineno-0-406"></a><span class="nd">@register_synalinks_serializable</span><span class="p">()</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_sql_query</span><span class="p">(</span><span class="n">sql_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a><span class="w">    </span><span class="sd">"""Execute a read-only SQL query and return the results.</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a><span class="sd">        sql_query (str): A SELECT SQL query to execute. Only SELECT queries are allowed.</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a><span class="sd">    Important:</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a><span class="sd">        - Only SELECT queries are permitted for safety</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a><span class="sd">        - Use get_database_schema first to discover available tables</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a><span class="sd">        - Use proper JOIN syntax for multi-table queries</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a><span class="sd">        - Include LIMIT clause for large result sets</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a><span class="sd">    """</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>    <span class="n">kb</span> <span class="o">=</span> <span class="n">get_knowledge_base</span><span class="p">()</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>    <span class="c1"># Validate query is read-only</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>    <span class="n">query_upper</span> <span class="o">=</span> <span class="n">sql_query</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">query_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"SELECT"</span><span class="p">):</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>            <span class="s2">"error"</span><span class="p">:</span> <span class="s2">"Only SELECT queries are allowed."</span><span class="p">,</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>            <span class="s2">"success"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>        <span class="p">}</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>    <span class="c1"># Check for dangerous patterns</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>    <span class="n">dangerous</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"DROP"</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">,</span> <span class="s2">"INSERT"</span><span class="p">,</span> <span class="s2">"UPDATE"</span><span class="p">,</span> <span class="s2">"ALTER"</span><span class="p">,</span> <span class="s2">"CREATE"</span><span class="p">,</span> <span class="s2">"TRUNCATE"</span><span class="p">]</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>    <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">dangerous</span><span class="p">:</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>        <span class="k">if</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">query_upper</span><span class="p">:</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">"error"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"Forbidden keyword: </span><span class="si">{</span><span class="n">keyword</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="s2">"success"</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>        <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">kb</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sql_query</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>            <span class="s2">"success"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>            <span class="s2">"query"</span><span class="p">:</span> <span class="n">sql_query</span><span class="p">,</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>            <span class="s2">"row_count"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">),</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>            <span class="s2">"results"</span><span class="p">:</span> <span class="n">results</span><span class="p">,</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>        <span class="p">}</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">"success"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">"error"</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="s2">"query"</span><span class="p">:</span> <span class="n">sql_query</span><span class="p">}</span>
</code></pre></div></td></tr></tbody></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascripts/summarize.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>